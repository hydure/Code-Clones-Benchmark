<html>
<head>
<style type="text/css">
body {font-family:Arial}
table {background-color:white; border:0px solid white; width:95%; margin-left:auto; margin-right: auto}
td {background-color:#b0c4de; padding:16px; border:4px solid white}
pre {background-color:white; padding:4px}
</style>
<title>
NiCad Clone Report
</title>
</head>
<body>
<h2>
NiCad Clone Report
</h2>
System: 7
<br>
<br>Granularity: functions
<br>Max difference threshold: 30%
<br>Clone size: 10 - 2500 lines
<br>
<br>Total functions: 161
<br>Clone pairs found: 6
<br>
<br>LCS compares: 2181 &nbsp;&nbsp;&nbsp; CPU time: 0 min 0.36 sec
<br>
<br>Number of  classes: 5
<br>
<h3>Clone class 1, 3 fragments, nominal size 16 lines, similarity 76%
</h3>
<table cellpadding=12 border=2 frame="box" width="90%">
<tr><td>
Lines 25 - 38 of /home/clone/cc_bench/7/11/powerdown_startup.py.pyindent
<pre>
def linux():
        f = open('server_startup_'+strftime("%Y-%m-%d")+'.log', 'a')                                                 # Open the logfile
        for server in open('startup_list.txt'):                                                                                                                         # Read the list of servers from the list
                ret = subprocess.call("ping -c 3 %s" % server, shell=True,stdout=open('/dev/null', ''w'),stderr=subprocess.STDOUT)        # Ping the servers in turn
                if ret == 0:                                                                                                                                                                                         # If you get a response.
                        f.write ("%s: is alive" % server.strip() + "\n")                                                                                 # Print a message
                        subprocess.Popen(['ssh', server.strip()])
                else:             
                        f.write ("%s: did not respond" % server.strip() + "\n")

# End of the functions			

# Start of the Main Program

</pre>
</td></tr>
<tr><td>
Lines 46 - 54 of /home/clone/cc_bench/7/11/powerup_checks.py.pyindent
<pre>
                                                     # This is the function to run if it detects thee OS is nix.
    f = open('server_startup_'+strftime("%Y-%m-%d")+'.log', 'a')                                                                                                                                                 # Open the logfile
                # Read the list of servers from the list
        ret = subprocess.call("ping -c 3 %s" % server, shell=True,stdout=open('/dev/null', 'w'),stdeerr=subprocess.STDOUT)        # Ping the servers in turn
                                             # Depending on the response
 server is up
        else:
            f.write ("%s: did not respond" % server.strip().ljust(15) + "\n")                                                                                                                         # Write to the logfile if the server is down

</pre>
</td></tr>
<tr><td>
Lines 35 - 45 of /home/clone/cc_bench/7/11/powerup_checks.py.pyindent
<pre>
                                       # This is the function to run if it detects the OS is windowss.
                      # Open the logfile
                # Read the list of servers from the list
        #ret = subprocess.call("ping -n 3 %s" % server.strip(), shell=True,stdout=open('NUL', 'w'),sstderr=subprocess.STDOUT)	# Ping the servers in turn
        ret = subprocess.call("ping -n 3 %s" % server.strip(),stdout=open('NUL', 'w'),stderr=subproccess.STDOUT)        # Ping the servers in turn
             # Depending on the response
erver is up
        else:
          f.write ("%s: did not respond" % server.strip().ljust(15) + "\n")                                                                                                                                 # Write to the logfile if the server is down


</pre>
</td></tr>
</table>
<h3>Clone class 2, 2 fragments, nominal size 11 lines, similarity 72%
</h3>
<table cellpadding=12 border=2 frame="box" width="90%">
<tr><td>
Lines 19 - 24 of /home/clone/cc_bench/7/11/script_count.py.pyindent
<pre>
def clear_screen():                                                                                                                                                 # Function to clear the screen
    if os.name == "posix":                                                                                                                         # Unix/Linux/MacOS/BSD/etc
        os.system('clear')                                                                                                                                 # Clear the Screen
    elif os.name in ("nt", "dos", "ce"):                                                                                         # DOS/Windows
        os.system('CLS')                                                                                                                                 # Clear the Screen

</pre>
</td></tr>
<tr><td>
Lines 31 - 37 of /home/clone/cc_bench/7/11/pscheck.py.pyindent
<pre>
def main():
  if os.name == "posix":                                                                                         # Unix/Linux/MacOS/BSD/etc
    ps()                                                                                                                                         # Call the function
  elif os.name in ("nt", "dos", "ce"):                                                        # if tthe OS is windows
    print "You need to be on Linux or Unix to run this"
                 
                 
</pre>
</td></tr>
</table>
<h3>Clone class 3, 2 fragments, nominal size 12 lines, similarity 75%
</h3>
<table cellpadding=12 border=2 frame="box" width="90%">
<tr><td>
Lines 82 - 89 of /home/clone/cc_bench/7/12/plugin/snake/__init__.py.pyindent
<pre>
def preserve_cursor():
    """ prevents change of cursor state """
    p = get_cursor_position()
    try:
        yield
    finally:
        set_cursor_position(p)

</pre>
</td></tr>
<tr><td>
Lines 91 - 97 of /home/clone/cc_bench/7/12/plugin/snake/__init__.py.pyindent
<pre>
def preserve_buffer():
    old_buffer = get_current_buffer()
    try:
        yield
    finally:
        set_buffer(old_buffer)

</pre>
</td></tr>
</table>
<h3>Clone class 4, 2 fragments, nominal size 14 lines, similarity 71%
</h3>
<table cellpadding=12 border=2 frame="box" width="90%">
<tr><td>
Lines 332 - 345 of /home/clone/cc_bench/7/12/tests.py.pyindent
<pre>
    def test_key_map_fn(self):
        script = r"""
called = 0
def side_effect():
    global called
    called += 1

key_map("a", side_effect)
keys("aaa")
send(called)
"""
        changed, output = run_vim(script)
        self.assertEqual(output, 3)

</pre>
</td></tr>
<tr><td>
Lines 346 - 359 of /home/clone/cc_bench/7/12/tests.py.pyindent
<pre>
    def test_key_map_decorator(self):
        script = r"""
called = 0
@key_map("a")
def side_effect():
    global called
    called += 1

keys("aaaa")
send(called)
"""
        changed, output = run_vim(script)
        self.assertEqual(output, 4)

</pre>
</td></tr>
</table>
<h3>Clone class 5, 2 fragments, nominal size 11 lines, similarity 90%
</h3>
<table cellpadding=12 border=2 frame="box" width="90%">
<tr><td>
Lines 376 - 385 of /home/clone/cc_bench/7/12/tests.py.pyindent
<pre>
    def test_get_set_value(self):
        script = r"""
o1 = int(get_option("tw"))
set_option("tw", 80)
o2 = int(get_option("tw"))
send([o1, o2])
"""
        _, output = run_vim(script)
        self.assertEqual(output, [0, 80])

</pre>
</td></tr>
<tr><td>
Lines 386 - 396 of /home/clone/cc_bench/7/12/tests.py.pyindent
<pre>
    def test_get_set_flag(self):
        script = r"""
o1 = int(get_option("tw"))
set_option("tw", 80)
o2 = int(get_option("tw"))
send([o1, o2])
"""
        _, output = run_vim(script)
        self.assertEqual(output, [0, 80])


</pre>
</td></tr>
</table>
</body>
</html>
